/* Force Dark Theme - Override Browser Light/Dark Mode */
html, body, #root, .radix-themes {
    background-color: #0b0f19 !important;
    color: #e2e8f0 !important;
    color-scheme: dark !important;  /* Force dark mode detection */
}

/* Radix UI Custom Orange Color Scale Override */
.radix-themes {
    /* Override Orange Scale mit Warning Colors */
    --orange-9: #3d2a00 !important;   /* CHECKED: Helleres Orange Hintergrund */
    --orange-a9: #3d2a00 !important;
    --orange-10: #4d3500 !important;  /* Hover State */
    --orange-a10: #4d3500 !important;
    --orange-11: #cc8800 !important;  /* THUMB: Mittleres Orange (gut sichtbar) */
    --orange-a11: #cc8800 !important;
    --orange-12: #cc8800 !important;  /* High-contrast (für high_contrast=True) */
    --orange-a12: #cc8800 !important;

    /* Contrast color for Switch Thumb - immer sichtbar */
    --orange-contrast: #cc8800 !important;
}

/* Direct CSS Override für Switch - alle Child-Elemente */
.rt-SwitchRoot[data-state="unchecked"],
.rt-SwitchRoot[data-state="unchecked"] > span,
.rt-SwitchRoot[data-state="unchecked"]::before {
    background-color: #2d1f00 !important;  /* UNCHECKED: Dunkles Orange */
    border-radius: 9999px !important;      /* Volle Rundung */
}

.rt-SwitchRoot[data-state="checked"],
.rt-SwitchRoot[data-state="checked"] > span,
.rt-SwitchRoot[data-state="checked"]::before {
    background-color: #5d4200 !important;  /* CHECKED: Deutlich helleres Orange */
    border-radius: 9999px !important;      /* Volle Rundung */
}

.rt-SwitchThumb {
    background-color: #cc8800 !important;  /* THUMB: Mittleres Orange - IMMER gut sichtbar */
    border-radius: 9999px !important;      /* Runder Knopf */
}

/* Thumb sollte in BEIDEN Zuständen gleich aussehen */
.rt-SwitchRoot[data-state="unchecked"] .rt-SwitchThumb,
.rt-SwitchRoot[data-state="checked"] .rt-SwitchThumb {
    background-color: #cc8800 !important;  /* Gleiches Orange in beiden Zuständen */
}

/* Entferne Test-Grün von TextAreas */
.rt-TextAreaRoot {
    border-color: #30363d !important;  /* Grau wie im Theme */
}

/* Verhindere orange Borders auf allen Boxen */
.rt-Box {
    outline: none !important;
}

.rt-Box:focus,
.rt-Box:focus-within {
    outline: none !important;
    box-shadow: none !important;
}

/* Grid sollte keine Focus-Styles haben */
.rt-Grid {
    outline: none !important;
}

.rt-Grid:focus,
.rt-Grid:focus-within {
    outline: none !important;
}

/* Entferne alle möglichen Accent-Farben von Grid und Box */
.rt-Grid,
.rt-Box {
    accent-color: transparent !important;
    outline-color: transparent !important;
    border-color: #30363d !important;
}

/* Force dark backgrounds on all card/container components */
.rt-Card,
.rt-Container,
.rt-Section,
.rt-Flex,
.rt-Grid,
.rt-Box,
.rt-Dialog,
.rt-AlertDialog,
.rt-Heading,
.rt-Text,
.rt-Label,
.rt-VStack,
.rt-HStack {
    background-color: transparent !important;  /* Transparent statt #161b22 für innere Elemente */
}

/* Nur Top-Level Container bekommen Farbe */
body > .rt-Box,
body > .rt-Container,
body > .rt-Flex,
#root > .rt-Box,
#root > .rt-Container {
    background-color: #0b0f19 !important;
}

/* Input/Textarea dark backgrounds - alle möglichen Selektoren */
.rt-TextFieldInput,
.rt-TextAreaInput,
.rt-SelectTrigger,
.rt-TextAreaRoot,
.rt-TextAreaRoot textarea,
textarea,
input[type="text"],
input[type="search"] {
    background-color: #21262d !important;
    color: #e6edf3 !important;
    border-color: #30363d !important;
}

/* Auch für Focus-State */
.rt-TextAreaRoot:focus,
.rt-TextAreaRoot:focus-within,
.rt-TextAreaRoot textarea:focus,
textarea:focus {
    background-color: #21262d !important;
    color: #e6edf3 !important;
}

/* Select dropdown content dark background */
.rt-SelectContent,
.rt-SelectViewport {
    background-color: #161b22 !important;
    color: #e6edf3 !important;
}

/* Select items dark background */
.rt-SelectItem {
    background-color: #161b22 !important;
    color: #e6edf3 !important;
}

.rt-SelectItem[data-highlighted] {
    background-color: rgba(230, 119, 0, 0.15) !important;
}

/* Thinking Process Collapsible - HÖCHSTE PRIORITÄT */
details {
    background-color: #252c35 !important;  /* Deutlich helleres Grau */
    border-radius: 4px !important;
    padding: 0.5em !important;
    margin-bottom: 1em !important;
}

details summary {
    cursor: pointer !important;
    font-weight: bold !important;
    color: #aaa !important;  /* Gleiche Farbe wie "Denkprozess (model)" */
}

.thinking-compact {
    color: #aaa !important;  /* GLEICHE Farbe wie Summary */
    background-color: transparent !important;
    padding: 0.5em !important;
}

.thinking-compact p {
    margin-top: 0.75em !important;
    margin-bottom: 0.75em !important;
    color: #aaa !important;  /* GLEICHE Farbe wie Summary */
}

.thinking-compact > :first-child {
    margin-top: 0.5em !important;
}

.thinking-compact > :last-child {
    margin-bottom: 0.3em !important;
}

/* Links - Helles Grau statt Blau (überall!) */
a,
a:link,
a:visited,
.rt-Text a,
.rt-Box a,
p a,
div a,
li a,
.radix-themes a {
    color: #9ca3af !important;  /* Helles Grau (gut lesbar) */
    text-decoration: underline !important;
}

a:hover,
.rt-Text a:hover,
.rt-Box a:hover,
p a:hover,
div a:hover,
li a:hover,
.radix-themes a:hover {
    color: #d1d5db !important;  /* Noch heller beim Hover */
}

/* Thinking Mode Warning - Pulsing Animation */
@keyframes pulse-warning {
    0%, 100% {
        opacity: 1;
        border-color: rgba(255, 152, 0, 0.4);
    }
    50% {
        opacity: 0.7;
        border-color: rgba(255, 152, 0, 0.2);
    }
}

.thinking-warning-pulse {
    animation: pulse-warning 2s ease-in-out infinite;
}
